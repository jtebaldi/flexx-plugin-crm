function submitNewContactForm() {
  $('#new-contact-add').toggleClass('disabled');
  $('#new-contact-cancel').toggleClass('disabled');
  $('#new-contact-spinner').toggleClass('invisible');

  $('#new-contact-form').submit();
}

function updateSalesStage(stage) {
  $('#update-sales-stage-field').val(stage);

  $('#update-sales-stage-form').submit();
}

function addNewContactTask() {
  $('#new-contact-task-add').toggleClass('disabled');
  $('#new-contact-task-cancel').toggleClass('disabled');
  $('#new-contact-task-spinner').toggleClass('invisible');

  $('#new-contact-task-form').submit();
}

function clearNewContactTaskForm() {
  $('#new-contact-task-form')[0].reset();

  $('#new-contact-task-add').toggleClass('disabled');
  $('#new-contact-task-cancel').toggleClass('disabled');
  $('#new-contact-task-spinner').toggleClass('invisible');

  $('#new-contact-task-panel').fadeOut();
}

var taglist = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  local: <%= ActsAsTaggableOn::Tag.all.to_json(only: :name) %>
});

app.ready(function() {
  taglist.initialize();

  $('#typeahed-tags').tagsinput({
    typeaheadjs: {
      name: 'taglist',
      source: taglist.ttAdapter(),
      displayKey: 'name',
      valueKey: 'name'
    }
  });
})
